## 分布式领域基本概念







## MapReduce

[mapreduce面试题](https://blog.csdn.net/WYpersist/article/details/80102778) 

[一篇掘金博客](https://juejin.im/post/5bb59f87f265da0aeb7118f2) 

MapReduce框架通常由三个操作（或步骤）组成：

1. **`Map`**：每个工作节点将 `map` 函数应用于本地数据，并将输出写入临时存储。主节点确保仅处理冗余输入数据的一个副本。
2. **`Shuffle`**：工作节点根据输出键（由 `map` 函数生成）重新分配数据，对数据映射排序、分组、拷贝，目的是属于一个键的所有数据都位于同一个工作节点上。
3. **`Reduce`**：工作节点现在并行处理每个键的每组输出数据。

MapReduce 流程图：

![img](assets/1663d77230e1bbd5)


另一种更详细的，将 `MapReduce` 分为5个步骤的理解是：

1. **Prepare the Map() input**：`MapReduce` 框架先指定 `Map` 处理器，然后给其分配将要处理的输入数据 -- 键值对 `K1`，并为该处理器提供与该键值相关的所有输入数据；
2. **Run the user-provided Map() code**：`Map()` 在 `K1` 键值对上运行一次，生成由 `K2` 指定的键值对的输出；
3. **Shuffle the Map output to the Reduce processors**：将先前生成的 `K2` 键值对，根据『键』是否相同移至相同的工作节点；
4. **Run the user-provided Reduce() code**：对于每个工作节点上的 `K2` 键值对进行 `Reduce()` 操作；
5. **Produce the final output**：`MapReduce` 框架收集所有 `Reduce` 输出，并按 `K2` 对其进行排序以产生最终结果进行输出。

实际生产环境中，数据很有可能是分散在各个服务器上，对于原先的大数据处理方法，则是将数据发送至代码所在的地方进行处理，这样非常低效且占用了大量的带宽，为应对这种情况，`MapReduce` 框架的处理方法是，将 `Map()` 操作或者 `Reduce()` 发送至数据所在的服务器上，**以『移动计算替代移动数据』**，来加速整个框架的运行速度，大多数计算都发生在具有本地磁盘上数据的节点上，从而减少了网络流量






## GFS









## BigTable







## 共识算法

### 分类

* 两阶段提交
* 三阶段提交
* Paxos
* Raft
* ...

### 两阶段提交

还不错的文章: https://blog.csdn.net/lengxiao1993/article/details/88290514

> 明确问题
> 草稿方案
> 原子提交协议希望实现的2个特性
> 正确的二段提交协议（Two-Phase Commit）
> 二阶段提交协议如何满足安全性（Safety）
> 二阶段提交协议如何满足存活性( Liveness)
> 如何应对超时
> 超时终止协议
> 如何应对宕机重启
> 二阶段提交实现的工程化难点
> 准备阶段到底干了什么
> 事务协调者是第三方吗
> 二阶段提交协议（Two-Phase Commit）的总结

[这篇文章也不错](https://blog.csdn.net/u010191243/article/details/52081891) 





## raft

### 一些资源

[raft官方网站](https://raft.github.io/) 

[raft中文翻译地址](https://github.com/maemual/raft-zh_cn/blob/master/raft-zh_cn.md) 

[在线raft英文动画演示地址](http://thesecretlivesofdata.com/raft/) 

[在线raft中文动画演示地址](http://www.kailing.pub/raft/index.html) 

[一篇不错的文章, 介绍了raft算法, 以及一些raft面试题, 从问题出发去学习](https://blog.csdn.net/daaikuaichuan/article/details/98627822) 

[mit6.824 lab2学生指导](https://thesquareplanet.com/blog/students-guide-to-raft/) 





## RPC





## K-V 存储引擎

LSM 算法的原理是什么？ - wuxinliulei的回答 - 知乎 https://www.zhihu.com/question/19887265/answer/78839142

如何从零写一个kv数据库？ - cholerae的回答 - 知乎 https://www.zhihu.com/question/59469744/answer/165590616

[存储引擎——Hash存储引擎，B树存储引擎，LSM树存储引擎](https://blog.csdn.net/A_zhenzhen/article/details/78831866) 

一般有三种: bitcask, LSM Tree, B Tree

bitcask最好理解也是最容易实现, 使用bitcask的有: Redis，Memcache







## 实现K-V数据库

[Key-Value数据库实现Part 1：什么是Key-Value数据库，为什么要实现它？](https://www.cnblogs.com/fangqi96/p/9121627.html)

[Key-Value数据库实现Part 2：使用已有的K-V数据库做模型](https://www.cnblogs.com/fangqi96/p/9126501.html) <- 好像很不行

